<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>Class Craft\SproutEmail_NotificationsService | Sprout Email API</title>

	<link rel="stylesheet" href="resources/bootstrap.min.css?08b23951ef4599ca9cbf1f902d0e8290c9653ddd">
	<link rel="stylesheet" href="resources/style.css?062e9e59e0b8c44fbaaded5b7ffc21f907b78669">

</head>

<body>
	<div id="navigation" class="navbar navbar-fixed-top">
		<div class="navbar-inner">
			<div class="container">
				<a href="index.html" class="brand">Sprout Email API</a>
				<div class="nav-collapse">
					<ul class="nav">
						<li>
							<a href="namespace-Craft.html" title="Summary of Craft"><span>Namespace</span></a>
						</li>
						<li class="active">
<span>Class</span>						</li>

						<li class="divider-vertical"></li>

						<li>
							<a href="tree.html" title="Tree view of classes, interfaces, traits and exceptions"><span>Tree</span></a>
						</li>
						<li>
							<a href="deprecated.html" title="List of deprecated elements"><span>Deprecated</span></a>
						</li>
						<li>
							<a href="todo.html" title="Todo list"><span>Todo</span></a>
						</li>


					</ul>
				</div>
			</div>
		</div>
	</div>

	<div id="left">
	<div id="menu">
		<form id="search" class="form-search">
			<input type="hidden" name="cx" value="">
			<input type="hidden" name="ie" value="UTF-8">
			<input type="text" name="q" class="search-query" placeholder="Search">
		</form>


		<div id="groups">
				<h3>Namespaces</h3>
			<ul>
					<li class="active">
						<a href="namespace-Craft.html">
							Craft						</a>
							</li>
			</ul>
		</div>


		<div id="elements">
			<h3>Classes</h3>
			<ul>
				<li><a href="class-Craft.SproutEmail_CampaignController.html">SproutEmail_CampaignController</a></li>
				<li><a href="class-Craft.SproutEmail_CampaignModel.html">SproutEmail_CampaignModel</a></li>
				<li><a href="class-Craft.SproutEmail_CampaignRecord.html">SproutEmail_CampaignRecord</a></li>
				<li><a href="class-Craft.SproutEmail_CampaignsService.html">SproutEmail_CampaignsService</a></li>
				<li><a href="class-Craft.SproutEmail_EntriesSaveEntryEvent.html">SproutEmail_EntriesSaveEntryEvent</a></li>
				<li><a href="class-Craft.SproutEmail_EntriesService.html">SproutEmail_EntriesService</a></li>
				<li><a href="class-Craft.SproutEmail_EntryController.html">SproutEmail_EntryController</a></li>
				<li><a href="class-Craft.SproutEmail_EntryElementType.html">SproutEmail_EntryElementType</a></li>
				<li><a href="class-Craft.SproutEmail_EntryFieldType.html">SproutEmail_EntryFieldType</a></li>
				<li><a href="class-Craft.SproutEmail_EntryModel.html">SproutEmail_EntryModel</a></li>
				<li><a href="class-Craft.SproutEmail_EntryRecipientListModel.html">SproutEmail_EntryRecipientListModel</a></li>
				<li><a href="class-Craft.SproutEmail_EntryRecipientListRecord.html">SproutEmail_EntryRecipientListRecord</a></li>
				<li><a href="class-Craft.SproutEmail_EntryRecord.html">SproutEmail_EntryRecord</a></li>
				<li><a href="class-Craft.SproutEmail_EventsController.html">SproutEmail_EventsController</a></li>
				<li><a href="class-Craft.SproutEmail_MailerController.html">SproutEmail_MailerController</a></li>
				<li><a href="class-Craft.SproutEmail_MailerModel.html">SproutEmail_MailerModel</a></li>
				<li><a href="class-Craft.SproutEmail_MailerRecord.html">SproutEmail_MailerRecord</a></li>
				<li><a href="class-Craft.SproutEmail_MailerService.html">SproutEmail_MailerService</a></li>
				<li><a href="class-Craft.SproutEmail_NotificationModel.html">SproutEmail_NotificationModel</a></li>
				<li><a href="class-Craft.SproutEmail_NotificationRecord.html">SproutEmail_NotificationRecord</a></li>
				<li><a href="class-Craft.SproutEmail_NotificationsController.html">SproutEmail_NotificationsController</a></li>
				<li class="active"><a href="class-Craft.SproutEmail_NotificationsService.html">SproutEmail_NotificationsService</a></li>
				<li><a href="class-Craft.SproutEmail_RecipientFieldType.html">SproutEmail_RecipientFieldType</a></li>
				<li><a href="class-Craft.SproutEmail_ResponseModel.html">SproutEmail_ResponseModel</a></li>
				<li><a href="class-Craft.SproutEmail_SubscriberListFieldType.html">SproutEmail_SubscriberListFieldType</a></li>
				<li><a href="class-Craft.SproutEmail_UserSessionLoginEvent.html">SproutEmail_UserSessionLoginEvent</a></li>
				<li><a href="class-Craft.SproutEmailBaseEvent.html">SproutEmailBaseEvent</a></li>
				<li><a href="class-Craft.SproutEmailBaseMailer.html">SproutEmailBaseMailer</a></li>
				<li><a href="class-Craft.SproutEmailController.html">SproutEmailController</a></li>
				<li><a href="class-Craft.SproutEmailService.html">SproutEmailService</a></li>
				<li><a href="class-Craft.SproutEmailVariable.html">SproutEmailVariable</a></li>
			</ul>

			<h3>Interfaces</h3>
			<ul>
				<li><a href="class-Craft.SproutEmailCampaignSenderInterface.html">SproutEmailCampaignSenderInterface</a></li>
				<li><a href="class-Craft.SproutEmailNotificationSenderInterface.html">SproutEmailNotificationSenderInterface</a></li>
			</ul>




		</div>
	</div>
</div>

<div id="splitter"></div>

<div id="right">
	<div id="rightInner">
<div id="content" class="class">
	<h1>Class SproutEmail_NotificationsService</h1>



	<dl class="tree well">
		<dd style="padding-left:0px">
Craft\BaseApplicationComponent
			
			
		</dd>
		<dd style="padding-left:30px">
			<img src="resources/inherit.png" alt="Extended by">
<b><span>Craft\SproutEmail_NotificationsService</span></b>			
			
			
		</dd>
	</dl>








	<div class="alert alert-info">
		
		
		<b>Namespace:</b> <a href="namespace-Craft.html">Craft</a><br>
		

			<b>Located at</b> <a href="source-class-Craft.SproutEmail_NotificationsService.html#4-256" title="Go to source code">SproutEmail_NotificationsService.php</a>
		<br>
	</div>



		<h2>Methods summary</h2>
		<table class="summary table table-bordered table-striped methods" id="methods">
		<tr data-order="init" id="_init">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_init">#</a>
			<code><a href="source-class-Craft.SproutEmail_NotificationsService.html#11-14" title="Go to source code">init</a>( )</code>

			<div class="description short">
				
			</div>

			<div class="description detailed hidden">
				







			</div>
			</div></td>
		</tr>
		<tr data-order="getAvailableEvents" id="_getAvailableEvents">

			<td class="attributes"><code>
				 public 
				array
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_getAvailableEvents">#</a>
			<code><a href="source-class-Craft.SproutEmail_NotificationsService.html#16-48" title="Go to source code">getAvailableEvents</a>( )</code>

			<div class="description short">
				<p>Returns all the available events that notifications can subscribe to</p>
			</div>

			<div class="description detailed hidden">
				<p>Returns all the available events that notifications can subscribe to</p>



					<h4>Returns</h4>
					<div class="list">
						array
					</div>




			</div>
			</div></td>
		</tr>
		<tr data-order="getEventById" id="_getEventById">

			<td class="attributes"><code>
				 public 
				array
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_getEventById">#</a>
			<code><a href="source-class-Craft.SproutEmail_NotificationsService.html#50-61" title="Go to source code">getEventById</a>( <span>string <var>$id</var></span>, <span>mixed <var>$default</var> = <span class="php-keyword1">null</span></span> )</code>

			<div class="description short">
				<p>Returns single notification event</p>
			</div>

			<div class="description detailed hidden">
				<p>Returns single notification event</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$id</var></dt>
						<dd>The return value of the event getId()</dd>
						<dt><var>$default</var></dt>
						<dd></dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						array
					</div>




			</div>
			</div></td>
		</tr>
		<tr data-order="save" id="_save">

			<td class="attributes"><code>
				 public 
				boolean
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_save">#</a>
			<code><a href="source-class-Craft.SproutEmail_NotificationsService.html#63-101" title="Go to source code">save</a>( <span><code><a href="class-Craft.SproutEmailBaseEvent.html">Craft\SproutEmailBaseEvent</a></code>|string <var>$eventId</var></span>, <span>integer <var>$campaignId</var></span> )</code>

			<div class="description short">
				<p>Save a notification event to the database</p>
			</div>

			<div class="description detailed hidden">
				<p>Save a notification event to the database</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$eventId</var></dt>
						<dd></dd>
						<dt><var>$campaignId</var></dt>
						<dd></dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						boolean
					</div>

					<h4>Throws</h4>
					<div class="list">
						Exception
					</div>



			</div>
			</div></td>
		</tr>
		<tr data-order="getNotifications" id="_getNotifications">

			<td class="attributes"><code>
				 public 
				<code><a href="class-Craft.SproutEmail_NotificationModel.html">Craft\SproutEmail_NotificationModel</a>[]</code>|null
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_getNotifications">#</a>
			<code><a href="source-class-Craft.SproutEmail_NotificationsService.html#103-118" title="Go to source code">getNotifications</a>( <span>string <var>$eventId</var></span> )</code>

			<div class="description short">
				<p>Returns all campaign notifications based on the passed event</p>
			</div>

			<div class="description detailed hidden">
				<p>Returns all campaign notifications based on the passed event</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$eventId</var></dt>
						<dd></dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						<code><a href="class-Craft.SproutEmail_NotificationModel.html">Craft\SproutEmail_NotificationModel</a>[]</code>|null
					</div>




			</div>
			</div></td>
		</tr>
		<tr data-order="getNotification" id="_getNotification">

			<td class="attributes"><code>
				 public 
				<code><a href="class-Craft.SproutEmail_NotificationRecord.html">Craft\SproutEmail_NotificationRecord</a></code>
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_getNotification">#</a>
			<code><a href="source-class-Craft.SproutEmail_NotificationsService.html#120-128" title="Go to source code">getNotification</a>( <span>array <var>$attributes</var></span> )</code>

			<div class="description short">
				
			</div>

			<div class="description detailed hidden">
				


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$attributes</var></dt>
						<dd></dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						<code><a href="class-Craft.SproutEmail_NotificationRecord.html">Craft\SproutEmail_NotificationRecord</a></code>
					</div>




			</div>
			</div></td>
		</tr>
		<tr data-order="registerDynamicEventHandler" id="_registerDynamicEventHandler">

			<td class="attributes"><code>
				 public 
				mixed
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_registerDynamicEventHandler">#</a>
			<code><a href="source-class-Craft.SproutEmail_NotificationsService.html#130-168" title="Go to source code">registerDynamicEventHandler</a>( )</code>

			<div class="description short">
				<p>Registers a closure for each event we should be listening for via craft()->on()</p>
			</div>

			<div class="description detailed hidden">
				<p>Registers a closure for each event we should be listening for via craft()->on()</p>



					<h4>Returns</h4>
					<div class="list">
						mixed
					</div>


					<h4>Note</h4>
					<div class="list">
							<ol>
<li>Get all events that we need to listen for</li>
<li>Register an anonymous function for each event using craft()->on()</li>
<li>That function will be called with an event id and the event itself when triggered</li>
</ol><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="getDynamicEventHandler" id="_getDynamicEventHandler">

			<td class="attributes"><code>
				 public 
				closure
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_getDynamicEventHandler">#</a>
			<code><a href="source-class-Craft.SproutEmail_NotificationsService.html#170-192" title="Go to source code">getDynamicEventHandler</a>( )</code>

			<div class="description short">
				<p>Returns the callable/closure that handle dynamic event delegation for craft()->raiseEvent()</p>
			</div>

			<div class="description detailed hidden">
				<p>Returns the callable/closure that handle dynamic event delegation for craft()->raiseEvent()</p>

<p>This closure is necessary to avoid creating a method for every possible event (entries.saveEntry)
This closure allows us to avoid having to register for every possible event via craft()->on()
This closure allows us to know the current event being triggered dynamically</p>



					<h4>Returns</h4>
					<div class="list">
						closure
					</div>


					<h4>Example</h4>
					<div class="list">
							<p>When the sproutemail is initialized...
1. We check what events we need to register for via craft()->on()
2. We register an anonymous function as the handler
3. This closure gets called with the name of the event and the event itself
4. This closure executes as real event handler for the triggered event</p><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="handleDynamicEvent" id="_handleDynamicEvent">

			<td class="attributes"><code>
				 public 
				boolean
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_handleDynamicEvent">#</a>
			<code><a href="source-class-Craft.SproutEmail_NotificationsService.html#194-218" title="Go to source code">handleDynamicEvent</a>( <span>string <var>$eventId</var></span>, <span>Craft\Event <var>$event</var></span>, <span><code><a href="class-Craft.SproutEmailBaseEvent.html">Craft\SproutEmailBaseEvent</a></code> <var>$listener</var></span> )</code>

			<div class="description short">
				
			</div>

			<div class="description detailed hidden">
				


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$eventId</var></dt>
						<dd></dd>
						<dt><var>$event</var></dt>
						<dd></dd>
						<dt><var>$listener</var></dt>
						<dd></dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						boolean
					</div>




			</div>
			</div></td>
		</tr>
		<tr data-order="relayNotificationThroughAssignedMailer" id="_relayNotificationThroughAssignedMailer">

			<td class="attributes"><code>
				 protected 
				mixed
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_relayNotificationThroughAssignedMailer">#</a>
			<code><a href="source-class-Craft.SproutEmail_NotificationsService.html#220-255" title="Go to source code">relayNotificationThroughAssignedMailer</a>( <span><code><a href="class-Craft.SproutEmail_CampaignModel.html">Craft\SproutEmail_CampaignModel</a></code> <var>$campaign</var></span>, <span>Craft\BaseElementModel <var>$element</var></span> )</code>

			<div class="description short">
				
			</div>

			<div class="description detailed hidden">
				


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$campaign</var></dt>
						<dd></dd>
						<dt><var>$element</var></dt>
						<dd></dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						mixed
					</div>

					<h4>Throws</h4>
					<div class="list">
						Exception<br>
						Exception
					</div>



			</div>
			</div></td>
		</tr>
		</table>



		<h3>Magic methods summary</h3>








		<h2>Properties summary</h2>
		<table class="summary table table-bordered table-striped properties" id="properties">
		<tr data-order="availableEvents" id="$availableEvents">
			<td class="attributes"><code>
				protected  
				
			</code></td>

			<td class="name">
					<a href="source-class-Craft.SproutEmail_NotificationsService.html#6" title="Go to source code"><var>$availableEvents</var></a>

				<div class="description short">
					
				</div>

				<div class="description detailed hidden">
					

				</div>
			</td>
			<td class="value">
				<div>
					<a href="#$availableEvents" class="anchor">#</a>
					<code></code>
				</div>
			</td>
		</tr>
		<tr data-order="registeredEvents" id="$registeredEvents">
			<td class="attributes"><code>
				protected  
				
			</code></td>

			<td class="name">
					<a href="source-class-Craft.SproutEmail_NotificationsService.html#7" title="Go to source code"><var>$registeredEvents</var></a>

				<div class="description short">
					
				</div>

				<div class="description detailed hidden">
					

				</div>
			</td>
			<td class="value">
				<div>
					<a href="#$registeredEvents" class="anchor">#</a>
					<code></code>
				</div>
			</td>
		</tr>
		<tr data-order="dynamicallyRegisteredEvents" id="$dynamicallyRegisteredEvents">
			<td class="attributes"><code>
				protected  
				array
			</code></td>

			<td class="name">
					<a href="source-class-Craft.SproutEmail_NotificationsService.html#8" title="Go to source code"><var>$dynamicallyRegisteredEvents</var></a>

				<div class="description short">
					
				</div>

				<div class="description detailed hidden">
					

				</div>
			</td>
			<td class="value">
				<div>
					<a href="#$dynamicallyRegisteredEvents" class="anchor">#</a>
					<code><span class="php-keyword1">array</span>()</code>
				</div>
			</td>
		</tr>
		<tr data-order="notificationsWithCampaignAndRecipients" id="$notificationsWithCampaignAndRecipients">
			<td class="attributes"><code>
				protected  
				array
			</code></td>

			<td class="name">
					<a href="source-class-Craft.SproutEmail_NotificationsService.html#9" title="Go to source code"><var>$notificationsWithCampaignAndRecipients</var></a>

				<div class="description short">
					
				</div>

				<div class="description detailed hidden">
					

				</div>
			</td>
			<td class="value">
				<div>
					<a href="#$notificationsWithCampaignAndRecipients" class="anchor">#</a>
					<code><span class="php-keyword1">array</span>()</code>
				</div>
			</td>
		</tr>
		</table>






</div>
	</div>

	<div id="footer">
		Sprout Email API API documentation generated by <a href="http://apigen.org">ApiGen</a>
	</div>
</div>
<script src="resources/combined.js"></script>
<script src="elementlist.js"></script>
</body>
</html>
